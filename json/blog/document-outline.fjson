{"parents": [], "prev": null, "next": null, "title": "Small Wins: Improving our Document Outline", "meta": null, "body": "<div class=\"section\" id=\"small-wins-improving-our-document-outline\">\n<h1>Small Wins: Improving our Document Outline<a class=\"headerlink\" href=\"#small-wins-improving-our-document-outline\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>The document outline is a way to overview and navigate a web page. It provides a high-level overview on a page, and is mostly used by screen readers to provide meaning and allow navigation for people who cannot access the visual representation of the page. At ZEIT Online we actively shape this outline, in order to improve the accessibility of our news website. This post shows some practical examples of that process.</p>\n<div class=\"section\" id=\"what-is-the-document-outline\">\n<h2>What is the document outline?<a class=\"headerlink\" href=\"#what-is-the-document-outline\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>The document outline represents the logical or semantical structure of an HTML document. This is a little difficult because there are two concepts: hierarchy of headlines <code class=\"docutils literal notranslate\"><span class=\"pre\">h1</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">h6</span></code> and the nested structure of <code class=\"docutils literal notranslate\"><span class=\"pre\">sections</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">divs</span></code>.</p>\n<p>That whole topic is a <a class=\"reference external\" href=\"https://css-tricks.com/document-outline-dilemma/\">big dilemma</a>, but nevertheless we can try to improve our sites to explain the sites structure to people (or machines) who cannot access the visible representation.</p>\n<p>That\u2019s what we did recently with our homepage on <a class=\"reference external\" href=\"https://www.zeit.de/index\">www.zeit.de</a>.</p>\n</div>\n<div class=\"section\" id=\"how-the-document-outline-was-before\">\n<h2>How the document outline was before<a class=\"headerlink\" href=\"#how-the-document-outline-was-before\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>How can we even see the outline, without actually using a screen reader?</p>\n<p>There are ways to make the document outline visible. The easiest one is a Chrome browser extension \u201c<a class=\"reference external\" href=\"https://chrome.google.com/webstore/detail/html5-outliner/afoibpobokebhgfnknfndkgemglggomo\">HTML Outliner</a>\u201d. It simply renders the document outline of a web site. Because it runs in the browser, we could also use it on localhost during development.</p>\n<p>The same tool is also available as <a class=\"reference external\" href=\"https://h5o.github.io/bookmarklet.html\">Bookmarklet</a>.</p>\n<p>Another great tool is the <a class=\"reference external\" href=\"https://validator.w3.org/nu/\">Nu Html Checker from the W3C</a>, which checks online URLs, but also accepts text input, which enabled us to test local versions of our site during development.</p>\n<p>The HTML Checker provides <a class=\"reference external\" href=\"https://validator.w3.org/nu/?showoutline=yes&amp;doc=https%3A%2F%2Fwww.zeit.de%2Findex\">two kinds of outline</a>, which illustrates perfectly the dilemma mentioned above:</p>\n<p><img alt=\"../../_images/w3c-outline-example-headings.png\" src=\"../../_images/w3c-outline-example-headings.png\" />heading level outline</p>\n<p><img alt=\"../../_images/w3c-outline-example-structure.png\" src=\"../../_images/w3c-outline-example-structure.png\" />structural document outline</p>\n</div>\n<div class=\"section\" id=\"how-we-improved\">\n<h2>How we improved<a class=\"headerlink\" href=\"#how-we-improved\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"use-correct-container-tags\">\n<h3>1) Use correct container tags<a class=\"headerlink\" href=\"#use-correct-container-tags\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The type HTML tags that we use directly shapes the document structure. While <code class=\"docutils literal notranslate\"><span class=\"pre\">divs</span></code> are just containers for styling purpose, the <code class=\"docutils literal notranslate\"><span class=\"pre\">section</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">article</span></code> HTML5 tags actually provide meaning and structure.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"o\">&lt;</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">h2</span><span class=\"o\">&gt;</span><span class=\"n\">Meistgelesene</span> <span class=\"n\">Artikel</span><span class=\"o\">&lt;/</span><span class=\"n\">h2</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">ol</span><span class=\"o\">&gt;</span>\n      <span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">article</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">h3</span><span class=\"o\">&gt;</span><span class=\"n\">Teaser</span> <span class=\"mi\">1</span><span class=\"o\">&lt;/</span><span class=\"n\">h3</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">article</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n      <span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">article</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">h3</span><span class=\"o\">&gt;</span><span class=\"n\">Teaser</span> <span class=\"mi\">2</span><span class=\"o\">&lt;/</span><span class=\"n\">h3</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">article</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n      <span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">article</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">h3</span><span class=\"o\">&gt;</span><span class=\"n\">Teaser</span> <span class=\"mi\">3</span><span class=\"o\">&lt;/</span><span class=\"n\">h3</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">article</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;/</span><span class=\"n\">ol</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">div</span><span class=\"o\">&gt;</span>\n</pre></div>\n</div>\n<p><img alt=\"../../_images/containertag-section-before.png\" src=\"../../_images/containertag-section-before.png\" /></p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"o\">&lt;</span><span class=\"n\">section</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"n\">h2</span><span class=\"o\">&gt;</span><span class=\"n\">Meistgelesene</span> <span class=\"n\">Artikel</span><span class=\"o\">&lt;/</span><span class=\"n\">h2</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"n\">ol</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">article</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">h3</span><span class=\"o\">&gt;</span><span class=\"n\">Teaser</span> <span class=\"mi\">1</span><span class=\"o\">&lt;/</span><span class=\"n\">h3</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">article</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">article</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">h3</span><span class=\"o\">&gt;</span><span class=\"n\">Teaser</span> <span class=\"mi\">2</span><span class=\"o\">&lt;/</span><span class=\"n\">h3</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">article</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">li</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">article</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">h3</span><span class=\"o\">&gt;</span><span class=\"n\">Teaser</span> <span class=\"mi\">3</span><span class=\"o\">&lt;/</span><span class=\"n\">h3</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">article</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">li</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;/</span><span class=\"n\">ol</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">section</span><span class=\"o\">&gt;</span>\n</pre></div>\n</div>\n<p><img alt=\"../../_images/containertag-section-after.png\" src=\"../../_images/containertag-section-after.png\" /></p>\n<p>By using a <code class=\"docutils literal notranslate\"><span class=\"pre\">section</span></code> instead of a <code class=\"docutils literal notranslate\"><span class=\"pre\">div</span></code> we opened a new outline scope/nesting and made clear that the headline type actually represents a hierarchy.</p>\n<p>In another case, we changed the container tag the other way around: from <code class=\"docutils literal notranslate\"><span class=\"pre\">section</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">div</span></code>. A teaser box which was defined as <code class=\"docutils literal notranslate\"><span class=\"pre\">section</span></code> also had a <code class=\"docutils literal notranslate\"><span class=\"pre\">section</span></code> as wrapper, which resulted from our CMS structure and the way centerpages are built. These two nested sections were reflected in the document outline, with one superficial level:</p>\n<p><img alt=\"../../_images/containertag-flatten-before.png\" src=\"../../_images/containertag-flatten-before.png\" /></p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>&lt;div&gt;\n    &lt;section&gt;\n      &lt;section&gt; &lt;!-- this was changed to div --&gt;\n        &lt;article&gt;&lt;h3&gt;Teaser 1&lt;/h3&gt;&lt;/article&gt;\n        &lt;div&gt;\n          &lt;article&gt;&lt;h3&gt;Teaser 2&lt;/h3&gt;&lt;/article&gt;\n          &lt;article&gt;&lt;h3&gt;Teaser 3&lt;/h3&gt;&lt;/article&gt;\n        &lt;/div&gt;\n    &lt;/section&gt; &lt;!-- this was changed to div --&gt;\n  &lt;/section&gt;\n&lt;/div&gt;\n</pre></div>\n</div>\n<p>By changing one container from <code class=\"docutils literal notranslate\"><span class=\"pre\">section</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">div</span></code>, we could flatten the outline hierarchy.</p>\n<p><img alt=\"../../_images/containertag-flatten-after.png\" src=\"../../_images/containertag-flatten-after.png\" /></p>\n<p>You will notice that the section is still untitled. This is because the included teasers are of the same hierarchy, and currently there is no element which can be used as title.</p>\n<p>While the flattening surely made the outline a bit better, there is still <a class=\"reference external\" href=\"#how-we-can-improve-more\">room for improvement</a>.</p>\n</div>\n<div class=\"section\" id=\"promote-relevant-text-nodes\">\n<h3>2) Promote relevant text nodes<a class=\"headerlink\" href=\"#promote-relevant-text-nodes\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>By assigning headline status to text nodes which do not look like headlines (in our case descriptions of products in our shop) these nodes get respected as the elements title in the document outline.</p>\n<p><img alt=\"../../_images/shop-screenshot.png\" src=\"../../_images/shop-screenshot.png\" /></p>\n<p>before:\n<code class=\"docutils literal notranslate\"><span class=\"pre\">&lt;p</span> <span class=\"pre\">class=&quot;shopitem__text&quot;&gt;{{</span> <span class=\"pre\">teaser.teaserText</span> <span class=\"pre\">}}&lt;/p&gt;</span></code>\n<img alt=\"../../_images/shop-title-paragraph.png\" src=\"../../_images/shop-title-paragraph.png\" /></p>\n<p>after:\n<code class=\"docutils literal notranslate\"><span class=\"pre\">&lt;h3</span> <span class=\"pre\">class=&quot;shopitem__text&quot;&gt;{{</span> <span class=\"pre\">teaser.teaserText</span> <span class=\"pre\">}}&lt;/h3&gt;</span></code>\n<img alt=\"../../_images/shop-title-headline.png\" src=\"../../_images/shop-title-headline.png\" /></p>\n<p>By the way, these changes are easily done because we use <a class=\"reference external\" href=\"https://blog.zeit.de/dev/block-element-modifier/\">BEM</a> as our CSS system.</p>\n</div>\n</div>\n<div class=\"section\" id=\"how-we-can-improve-more\">\n<h2>How we can improve more<a class=\"headerlink\" href=\"#how-we-can-improve-more\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<ul class=\"simple\">\n<li><p>We still have untitled sections\n<img alt=\"../../_images/improvement-untitled-sections.png\" src=\"../../_images/improvement-untitled-sections.png\" /></p></li>\n<li><p>Some things should be hidden from the outline (or even the DOM)\n<img alt=\"../../_images/improvement-reloadbox.png\" src=\"../../_images/improvement-reloadbox.png\" /></p></li>\n</ul>\n</div>\n<div class=\"section\" id=\"resources\">\n<h2>Resources<a class=\"headerlink\" href=\"#resources\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"articles\">\n<h3>Articles<a class=\"headerlink\" href=\"#articles\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<ul class=\"simple\">\n<li><p>https://css-tricks.com/document-outline-dilemma/</p></li>\n<li><p>http://html5doctor.com/computer-says-no-to-html5-document-outline/</p></li>\n<li><p>https://medium.com/&#64;Heydon/managing-heading-levels-in-design-systems-18be9a746fa3</p></li>\n</ul>\n</div>\n<div class=\"section\" id=\"tools\">\n<h3>Tools<a class=\"headerlink\" href=\"#tools\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<ul class=\"simple\">\n<li><p>Chrome Extension: <a class=\"reference external\" href=\"https://chrome.google.com/webstore/detail/html5-outliner/afoibpobokebhgfnknfndkgemglggomo\">HTML Outliner</a></p></li>\n</ul>\n<p><strong>Written 2019-03-07 by Thomas Puppe</strong></p>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"]], "sourcename": "blog/document-outline.md.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Small Wins: Improving our Document Outline</a><ul>\n<li><a class=\"reference internal\" href=\"#what-is-the-document-outline\">What is the document outline?</a></li>\n<li><a class=\"reference internal\" href=\"#how-the-document-outline-was-before\">How the document outline was before</a></li>\n<li><a class=\"reference internal\" href=\"#how-we-improved\">How we improved</a><ul>\n<li><a class=\"reference internal\" href=\"#use-correct-container-tags\">1) Use correct container tags</a></li>\n<li><a class=\"reference internal\" href=\"#promote-relevant-text-nodes\">2) Promote relevant text nodes</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#how-we-can-improve-more\">How we can improve more</a></li>\n<li><a class=\"reference internal\" href=\"#resources\">Resources</a><ul>\n<li><a class=\"reference internal\" href=\"#articles\">Articles</a></li>\n<li><a class=\"reference internal\" href=\"#tools\">Tools</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".md", "current_page_name": "blog/document-outline", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}